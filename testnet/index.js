var LT;(()=>{"use strict";function e(e){return Array.from((new TextEncoder).encode(e),(e=>e.toString(16).padStart(2,"0"))).join("")}function t(e){const t=new Uint8Array(e.length/2);for(let r=0;r!==t.length;r++)t[r]=parseInt(e.substr(2*r,2),16);return(new TextDecoder).decode(t)}function r(e){return e&&e.length>14?e.substring(0,5)+"..."+e.substring(e.length-5):e}function i(e){if(navigator.clipboard)return navigator.clipboard.writeText(e).then((function(){}),(function(e){return!1})),!0;let t=!1;var r=document.createElement("textarea");r.value=e,r.style.top="0",r.style.left="0",r.style.position="fixed",document.body.appendChild(r),r.focus(),r.select();try{document.execCommand("copy"),t=!0}catch(e){}return document.body.removeChild(r),t}function s(e){return/^(tz|KT)[123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz]{34}$/.test(String(e))}function a(){try{return(new Error).stack.split("\n")[2].replace(/^\s+at\s+(.+?)\s.+/g,"$1")}catch(e){return""}}const n=!window.location.protocol.startsWith("http"),o="ghostnet",m="KT1TRuN4Uc4ai6ZjWRjtedX9ChmfcfvxfBXt",c="-1835576114,-1513923773,-1889653220,-543526052",l='{"code":[{"prim":"storage","args":[{"prim":"pair","args":[{"prim":"pair","args":[{"prim":"address","annots":["%administrator"]},{"prim":"pair","args":[{"prim":"nat","annots":["%all_tokens"]},{"prim":"big_map","args":[{"prim":"pair","args":[{"prim":"address"},{"prim":"nat"}]},{"prim":"nat"}],"annots":["%ledger"]}]}]},{"prim":"pair","args":[{"prim":"pair","args":[{"prim":"big_map","args":[{"prim":"string"},{"prim":"bytes"}],"annots":["%metadata"]},{"prim":"big_map","args":[{"prim":"pair","args":[{"prim":"address","annots":["%owner"]},{"prim":"pair","args":[{"prim":"address","annots":["%operator"]},{"prim":"nat","annots":["%token_id"]}]}]},{"prim":"unit"}],"annots":["%operators"]}]},{"prim":"pair","args":[{"prim":"big_map","args":[{"prim":"nat"},{"prim":"pair","args":[{"prim":"nat","annots":["%token_id"]},{"prim":"map","args":[{"prim":"string"},{"prim":"bytes"}],"annots":["%token_info"]}]}],"annots":["%token_metadata"]},{"prim":"big_map","args":[{"prim":"nat"},{"prim":"nat"}],"annots":["%total_supply"]}]}]}]}]},{"prim":"parameter","args":[{"prim":"or","args":[{"prim":"or","args":[{"prim":"pair","args":[{"prim":"list","args":[{"prim":"pair","args":[{"prim":"address","annots":["%owner"]},{"prim":"nat","annots":["%token_id"]}]}],"annots":["%requests"]},{"prim":"contract","args":[{"prim":"list","args":[{"prim":"pair","args":[{"prim":"pair","args":[{"prim":"address","annots":["%owner"]},{"prim":"nat","annots":["%token_id"]}],"annots":["%request"]},{"prim":"nat","annots":["%balance"]}]}]}],"annots":["%callback"]}],"annots":["%balance_of"]},{"prim":"pair","args":[{"prim":"nat","annots":["%amount"]},{"prim":"nat","annots":["%token_id"]}],"annots":["%burn"]}]},{"prim":"or","args":[{"prim":"pair","args":[{"prim":"address","annots":["%address"]},{"prim":"pair","args":[{"prim":"nat","annots":["%amount"]},{"prim":"map","args":[{"prim":"string"},{"prim":"bytes"}],"annots":["%metadata"]}]}],"annots":["%mint"]},{"prim":"or","args":[{"prim":"list","args":[{"prim":"pair","args":[{"prim":"address","annots":["%from_"]},{"prim":"list","args":[{"prim":"pair","args":[{"prim":"address","annots":["%to_"]},{"prim":"pair","args":[{"prim":"nat","annots":["%token_id"]},{"prim":"nat","annots":["%amount"]}]}]}],"annots":["%txs"]}]}],"annots":["%transfer"]},{"prim":"list","args":[{"prim":"or","args":[{"prim":"pair","args":[{"prim":"address","annots":["%owner"]},{"prim":"pair","args":[{"prim":"address","annots":["%operator"]},{"prim":"nat","annots":["%token_id"]}]}],"annots":["%add_operator"]},{"prim":"pair","args":[{"prim":"address","annots":["%owner"]},{"prim":"pair","args":[{"prim":"address","annots":["%operator"]},{"prim":"nat","annots":["%token_id"]}]}],"annots":["%remove_operator"]}]}],"annots":["%update_operators"]}]}]}]}]},{"prim":"code","args":[[{"prim":"CAST","args":[{"prim":"pair","args":[{"prim":"or","args":[{"prim":"or","args":[{"prim":"pair","args":[{"prim":"list","args":[{"prim":"pair","args":[{"prim":"address"},{"prim":"nat"}]}]},{"prim":"contract","args":[{"prim":"list","args":[{"prim":"pair","args":[{"prim":"pair","args":[{"prim":"address"},{"prim":"nat"}]},{"prim":"nat"}]}]}]}]},{"prim":"pair","args":[{"prim":"nat"},{"prim":"nat"}]}]},{"prim":"or","args":[{"prim":"pair","args":[{"prim":"address"},{"prim":"pair","args":[{"prim":"nat"},{"prim":"map","args":[{"prim":"string"},{"prim":"bytes"}]}]}]},{"prim":"or","args":[{"prim":"list","args":[{"prim":"pair","args":[{"prim":"address"},{"prim":"list","args":[{"prim":"pair","args":[{"prim":"address"},{"prim":"pair","args":[{"prim":"nat"},{"prim":"nat"}]}]}]}]}]},{"prim":"list","args":[{"prim":"or","args":[{"prim":"pair","args":[{"prim":"address"},{"prim":"pair","args":[{"prim":"address"},{"prim":"nat"}]}]},{"prim":"pair","args":[{"prim":"address"},{"prim":"pair","args":[{"prim":"address"},{"prim":"nat"}]}]}]}]}]}]}]},{"prim":"pair","args":[{"prim":"pair","args":[{"prim":"address"},{"prim":"pair","args":[{"prim":"nat"},{"prim":"big_map","args":[{"prim":"pair","args":[{"prim":"address"},{"prim":"nat"}]},{"prim":"nat"}]}]}]},{"prim":"pair","args":[{"prim":"pair","args":[{"prim":"big_map","args":[{"prim":"string"},{"prim":"bytes"}]},{"prim":"big_map","args":[{"prim":"pair","args":[{"prim":"address"},{"prim":"pair","args":[{"prim":"address"},{"prim":"nat"}]}]},{"prim":"unit"}]}]},{"prim":"pair","args":[{"prim":"big_map","args":[{"prim":"nat"},{"prim":"pair","args":[{"prim":"nat"},{"prim":"map","args":[{"prim":"string"},{"prim":"bytes"}]}]}]},{"prim":"big_map","args":[{"prim":"nat"},{"prim":"nat"}]}]}]}]}]}]},{"prim":"UNPAIR"},{"prim":"IF_LEFT","args":[[{"prim":"IF_LEFT","args":[[{"prim":"DUP"},{"prim":"CAR"},{"prim":"MAP","args":[[{"prim":"DUP","args":[{"int":"3"}]},{"prim":"GET","args":[{"int":"5"}]},{"prim":"DUP","args":[{"int":"2"}]},{"prim":"CDR"},{"prim":"MEM"},{"prim":"IF","args":[[],[{"prim":"PUSH","args":[{"prim":"string"},{"string":"FA2_TOKEN_UNDEFINED"}]},{"prim":"FAILWITH"}]]},{"prim":"DUP","args":[{"int":"3"}]},{"prim":"CAR"},{"prim":"GET","args":[{"int":"4"}]},{"prim":"DUP","args":[{"int":"2"}]},{"prim":"CDR"},{"prim":"DUP","args":[{"int":"3"}]},{"prim":"CAR"},{"prim":"PAIR"},{"prim":"MEM"},{"prim":"IF","args":[[{"prim":"DUP","args":[{"int":"3"}]},{"prim":"CAR"},{"prim":"GET","args":[{"int":"4"}]},{"prim":"DUP","args":[{"int":"2"}]},{"prim":"CDR"},{"prim":"DUP","args":[{"int":"3"}]},{"prim":"CAR"},{"prim":"PAIR"},{"prim":"GET"},{"prim":"IF_NONE","args":[[{"prim":"PUSH","args":[{"prim":"int"},{"int":"434"}]},{"prim":"FAILWITH"}],[]]},{"prim":"SWAP"},{"prim":"PAIR"}],[{"prim":"PUSH","args":[{"prim":"nat"},{"int":"0"}]},{"prim":"SWAP"},{"prim":"PAIR"}]]}]]},{"prim":"NIL","args":[{"prim":"operation"}]},{"prim":"DIG","args":[{"int":"2"}]},{"prim":"CDR"},{"prim":"PUSH","args":[{"prim":"mutez"},{"int":"0"}]},{"prim":"DIG","args":[{"int":"3"}]},{"prim":"TRANSFER_TOKENS"},{"prim":"CONS"}],[{"prim":"DUP","args":[{"int":"2"}]},{"prim":"GET","args":[{"int":"5"}]},{"prim":"DUP","args":[{"int":"2"}]},{"prim":"CDR"},{"prim":"MEM"},{"prim":"IF","args":[[],[{"prim":"PUSH","args":[{"prim":"string"},{"string":"FA2_TOKEN_UNDEFINED"}]},{"prim":"FAILWITH"}]]},{"prim":"DUP","args":[{"int":"2"}]},{"prim":"UNPAIR"},{"prim":"UNPAIR"},{"prim":"SWAP"},{"prim":"UNPAIR"},{"prim":"SWAP"},{"prim":"DUP","args":[{"int":"5"}]},{"prim":"CAR"},{"prim":"DIG","args":[{"int":"6"}]},{"prim":"CAR"},{"prim":"GET","args":[{"int":"4"}]},{"prim":"DUP","args":[{"int":"7"}]},{"prim":"CDR"},{"prim":"SENDER"},{"prim":"PAIR"},{"prim":"GET"},{"prim":"IF_NONE","args":[[{"prim":"PUSH","args":[{"prim":"nat"},{"int":"0"}]}],[]]},{"prim":"SUB"},{"prim":"ISNAT"},{"prim":"IF_NONE","args":[[{"prim":"PUSH","args":[{"prim":"string"},{"string":"FA2_INSUFFICIENT_BALANCE"}]},{"prim":"FAILWITH"}],[]]},{"prim":"SOME"},{"prim":"DUP","args":[{"int":"6"}]},{"prim":"CDR"},{"prim":"SENDER"},{"prim":"PAIR"},{"prim":"UPDATE"},{"prim":"SWAP"},{"prim":"PAIR"},{"prim":"SWAP"},{"prim":"PAIR"},{"prim":"PAIR"},{"prim":"SWAP"},{"prim":"DUP","args":[{"int":"2"}]},{"prim":"DUP"},{"prim":"GET","args":[{"int":"6"}]},{"prim":"DUP","args":[{"int":"3"}]},{"prim":"CAR"},{"prim":"DIG","args":[{"int":"4"}]},{"prim":"GET","args":[{"int":"6"}]},{"prim":"DUP","args":[{"int":"5"}]},{"prim":"CDR"},{"prim":"GET"},{"prim":"IF_NONE","args":[[{"prim":"PUSH","args":[{"prim":"int"},{"int":"538"}]},{"prim":"FAILWITH"}],[]]},{"prim":"SUB"},{"prim":"ISNAT"},{"prim":"IF_NONE","args":[[{"prim":"PUSH","args":[{"prim":"int"},{"int":"538"}]},{"prim":"FAILWITH"}],[]]},{"prim":"SOME"},{"prim":"DUP","args":[{"int":"4"}]},{"prim":"CDR"},{"prim":"UPDATE"},{"prim":"UPDATE","args":[{"int":"6"}]},{"prim":"SWAP"},{"prim":"PUSH","args":[{"prim":"nat"},{"int":"0"}]},{"prim":"DUP","args":[{"int":"3"}]},{"prim":"GET","args":[{"int":"6"}]},{"prim":"DUP","args":[{"int":"3"}]},{"prim":"CDR"},{"prim":"GET"},{"prim":"IF_NONE","args":[[{"prim":"PUSH","args":[{"prim":"int"},{"int":"539"}]},{"prim":"FAILWITH"}],[]]},{"prim":"COMPARE"},{"prim":"EQ"},{"prim":"IF","args":[[{"prim":"SWAP"},{"prim":"DUP"},{"prim":"GET","args":[{"int":"5"}]},{"prim":"NONE","args":[{"prim":"pair","args":[{"prim":"nat"},{"prim":"map","args":[{"prim":"string"},{"prim":"bytes"}]}]}]},{"prim":"DIG","args":[{"int":"3"}]},{"prim":"CDR"},{"prim":"UPDATE"},{"prim":"UPDATE","args":[{"int":"5"}]}],[{"prim":"DROP"}]]},{"prim":"NIL","args":[{"prim":"operation"}]}]]}],[{"prim":"IF_LEFT","args":[[{"prim":"DUP","args":[{"int":"2"}]},{"prim":"CAR"},{"prim":"CAR"},{"prim":"SENDER"},{"prim":"COMPARE"},{"prim":"EQ"},{"prim":"IF","args":[[],[{"prim":"PUSH","args":[{"prim":"string"},{"string":"FA2_NOT_ADMIN"}]},{"prim":"FAILWITH"}]]},{"prim":"DUP","args":[{"int":"2"}]},{"prim":"UNPAIR"},{"prim":"UNPAIR"},{"prim":"SWAP"},{"prim":"UNPAIR"},{"prim":"SWAP"},{"prim":"DUP","args":[{"int":"5"}]},{"prim":"GET","args":[{"int":"3"}]},{"prim":"SOME"},{"prim":"DIG","args":[{"int":"6"}]},{"prim":"CAR"},{"prim":"GET","args":[{"int":"3"}]},{"prim":"DUP","args":[{"int":"7"}]},{"prim":"CAR"},{"prim":"PAIR"},{"prim":"UPDATE"},{"prim":"SWAP"},{"prim":"PAIR"},{"prim":"SWAP"},{"prim":"PAIR"},{"prim":"PAIR"},{"prim":"SWAP"},{"prim":"DUP","args":[{"int":"2"}]},{"prim":"DUP"},{"prim":"GET","args":[{"int":"5"}]},{"prim":"DUP","args":[{"int":"3"}]},{"prim":"GET","args":[{"int":"4"}]},{"prim":"DUP","args":[{"int":"5"}]},{"prim":"CAR"},{"prim":"GET","args":[{"int":"3"}]},{"prim":"PAIR"},{"prim":"SOME"},{"prim":"DIG","args":[{"int":"4"}]},{"prim":"CAR"},{"prim":"GET","args":[{"int":"3"}]},{"prim":"UPDATE"},{"prim":"UPDATE","args":[{"int":"5"}]},{"prim":"SWAP"},{"prim":"DUP","args":[{"int":"2"}]},{"prim":"DUP"},{"prim":"GET","args":[{"int":"6"}]},{"prim":"DIG","args":[{"int":"2"}]},{"prim":"GET","args":[{"int":"3"}]},{"prim":"SOME"},{"prim":"DIG","args":[{"int":"3"}]},{"prim":"CAR"},{"prim":"GET","args":[{"int":"3"}]},{"prim":"UPDATE"},{"prim":"UPDATE","args":[{"int":"6"}]},{"prim":"UNPAIR"},{"prim":"UNPAIR"},{"prim":"SWAP"},{"prim":"UNPAIR"},{"prim":"PUSH","args":[{"prim":"nat"},{"int":"1"}]},{"prim":"ADD"},{"prim":"PAIR"},{"prim":"SWAP"},{"prim":"PAIR"},{"prim":"PAIR"}],[{"prim":"IF_LEFT","args":[[{"prim":"DUP"},{"prim":"ITER","args":[[{"prim":"DUP"},{"prim":"CDR"},{"prim":"ITER","args":[[{"prim":"SENDER"},{"prim":"DUP","args":[{"int":"3"}]},{"prim":"CAR"},{"prim":"COMPARE"},{"prim":"EQ"},{"prim":"IF","args":[[{"prim":"PUSH","args":[{"prim":"bool"},{"prim":"True"}]}],[{"prim":"DUP","args":[{"int":"4"}]},{"prim":"GET","args":[{"int":"3"}]},{"prim":"CDR"},{"prim":"DUP","args":[{"int":"2"}]},{"prim":"GET","args":[{"int":"3"}]},{"prim":"SENDER"},{"prim":"DUP","args":[{"int":"5"}]},{"prim":"CAR"},{"prim":"PAIR","args":[{"int":"3"}]},{"prim":"MEM"}]]},{"prim":"IF","args":[[],[{"prim":"PUSH","args":[{"prim":"string"},{"string":"FA2_NOT_OPERATOR"}]},{"prim":"FAILWITH"}]]},{"prim":"DUP","args":[{"int":"4"}]},{"prim":"GET","args":[{"int":"5"}]},{"prim":"DUP","args":[{"int":"2"}]},{"prim":"GET","args":[{"int":"3"}]},{"prim":"MEM"},{"prim":"IF","args":[[],[{"prim":"PUSH","args":[{"prim":"string"},{"string":"FA2_TOKEN_UNDEFINED"}]},{"prim":"FAILWITH"}]]},{"prim":"PUSH","args":[{"prim":"nat"},{"int":"0"}]},{"prim":"DUP","args":[{"int":"2"}]},{"prim":"GET","args":[{"int":"4"}]},{"prim":"COMPARE"},{"prim":"GT"},{"prim":"IF","args":[[{"prim":"DUP"},{"prim":"GET","args":[{"int":"4"}]},{"prim":"DUP","args":[{"int":"5"}]},{"prim":"CAR"},{"prim":"GET","args":[{"int":"4"}]},{"prim":"DUP","args":[{"int":"3"}]},{"prim":"GET","args":[{"int":"3"}]},{"prim":"DUP","args":[{"int":"5"}]},{"prim":"CAR"},{"prim":"PAIR"},{"prim":"GET"},{"prim":"IF_NONE","args":[[{"prim":"PUSH","args":[{"prim":"int"},{"int":"414"}]},{"prim":"FAILWITH"}],[]]},{"prim":"COMPARE"},{"prim":"GE"},{"prim":"IF","args":[[],[{"prim":"PUSH","args":[{"prim":"string"},{"string":"FA2_INSUFFICIENT_BALANCE"}]},{"prim":"FAILWITH"}]]},{"prim":"DUP"},{"prim":"GET","args":[{"int":"4"}]},{"prim":"DUP","args":[{"int":"5"}]},{"prim":"CAR"},{"prim":"GET","args":[{"int":"4"}]},{"prim":"DUP","args":[{"int":"3"}]},{"prim":"GET","args":[{"int":"3"}]},{"prim":"DUP","args":[{"int":"5"}]},{"prim":"CAR"},{"prim":"PAIR"},{"prim":"GET"},{"prim":"IF_NONE","args":[[{"prim":"PUSH","args":[{"prim":"int"},{"int":"418"}]},{"prim":"FAILWITH"}],[]]},{"prim":"SUB"},{"prim":"ISNAT"},{"prim":"IF_NONE","args":[[{"prim":"PUSH","args":[{"prim":"int"},{"int":"418"}]},{"prim":"FAILWITH"}],[]]},{"prim":"DIG","args":[{"int":"4"}]},{"prim":"UNPAIR"},{"prim":"UNPAIR"},{"prim":"SWAP"},{"prim":"UNPAIR"},{"prim":"SWAP"},{"prim":"DUP"},{"prim":"DUP","args":[{"int":"7"}]},{"prim":"GET","args":[{"int":"3"}]},{"prim":"DUP","args":[{"int":"9"}]},{"prim":"CAR"},{"prim":"PAIR"},{"prim":"DUP"},{"prim":"DUG","args":[{"int":"2"}]},{"prim":"GET"},{"prim":"IF_NONE","args":[[{"prim":"PUSH","args":[{"prim":"int"},{"int":"418"}]},{"prim":"FAILWITH"}],[{"prim":"DROP"}]]},{"prim":"DIG","args":[{"int":"5"}]},{"prim":"SOME"},{"prim":"SWAP"},{"prim":"UPDATE"},{"prim":"SWAP"},{"prim":"PAIR"},{"prim":"SWAP"},{"prim":"PAIR"},{"prim":"PAIR"},{"prim":"DUG","args":[{"int":"3"}]},{"prim":"DUP","args":[{"int":"4"}]},{"prim":"CAR"},{"prim":"GET","args":[{"int":"4"}]},{"prim":"DUP","args":[{"int":"2"}]},{"prim":"GET","args":[{"int":"3"}]},{"prim":"DUP","args":[{"int":"3"}]},{"prim":"CAR"},{"prim":"PAIR"},{"prim":"MEM"},{"prim":"IF","args":[[{"prim":"DIG","args":[{"int":"3"}]},{"prim":"UNPAIR"},{"prim":"UNPAIR"},{"prim":"SWAP"},{"prim":"UNPAIR"},{"prim":"SWAP"},{"prim":"DUP"},{"prim":"DUP","args":[{"int":"6"}]},{"prim":"GET","args":[{"int":"3"}]},{"prim":"DUP","args":[{"int":"7"}]},{"prim":"CAR"},{"prim":"PAIR"},{"prim":"DUP"},{"prim":"DUG","args":[{"int":"2"}]},{"prim":"GET"},{"prim":"IF_NONE","args":[[{"prim":"PUSH","args":[{"prim":"int"},{"int":"421"}]},{"prim":"FAILWITH"}],[]]},{"prim":"DIG","args":[{"int":"6"}]},{"prim":"GET","args":[{"int":"4"}]},{"prim":"ADD"},{"prim":"SOME"},{"prim":"SWAP"},{"prim":"UPDATE"},{"prim":"SWAP"},{"prim":"PAIR"},{"prim":"SWAP"},{"prim":"PAIR"},{"prim":"PAIR"},{"prim":"DUG","args":[{"int":"2"}]}],[{"prim":"DIG","args":[{"int":"3"}]},{"prim":"UNPAIR"},{"prim":"UNPAIR"},{"prim":"SWAP"},{"prim":"UNPAIR"},{"prim":"SWAP"},{"prim":"DUP","args":[{"int":"5"}]},{"prim":"GET","args":[{"int":"4"}]},{"prim":"SOME"},{"prim":"DUP","args":[{"int":"6"}]},{"prim":"GET","args":[{"int":"3"}]},{"prim":"DIG","args":[{"int":"6"}]},{"prim":"CAR"},{"prim":"PAIR"},{"prim":"UPDATE"},{"prim":"SWAP"},{"prim":"PAIR"},{"prim":"SWAP"},{"prim":"PAIR"},{"prim":"PAIR"},{"prim":"DUG","args":[{"int":"2"}]}]]}],[{"prim":"DROP"}]]}]]},{"prim":"DROP"}]]},{"prim":"DROP"}],[{"prim":"DUP"},{"prim":"ITER","args":[[{"prim":"IF_LEFT","args":[[{"prim":"SENDER"},{"prim":"DUP","args":[{"int":"2"}]},{"prim":"CAR"},{"prim":"COMPARE"},{"prim":"EQ"},{"prim":"IF","args":[[],[{"prim":"PUSH","args":[{"prim":"string"},{"string":"FA2_NOT_OWNER"}]},{"prim":"FAILWITH"}]]},{"prim":"DIG","args":[{"int":"2"}]},{"prim":"UNPAIR"},{"prim":"SWAP"},{"prim":"UNPAIR"},{"prim":"UNPAIR"},{"prim":"SWAP"},{"prim":"PUSH","args":[{"prim":"option","args":[{"prim":"unit"}]},{"prim":"Some","args":[{"prim":"Unit"}]}]},{"prim":"DIG","args":[{"int":"5"}]},{"prim":"DUP"},{"prim":"GET","args":[{"int":"4"}]},{"prim":"SWAP"},{"prim":"DUP"},{"prim":"GET","args":[{"int":"3"}]},{"prim":"SWAP"},{"prim":"CAR"},{"prim":"PAIR","args":[{"int":"3"}]},{"prim":"UPDATE"},{"prim":"SWAP"},{"prim":"PAIR"},{"prim":"PAIR"},{"prim":"SWAP"},{"prim":"PAIR"},{"prim":"SWAP"}],[{"prim":"SENDER"},{"prim":"DUP","args":[{"int":"2"}]},{"prim":"CAR"},{"prim":"COMPARE"},{"prim":"EQ"},{"prim":"IF","args":[[],[{"prim":"PUSH","args":[{"prim":"string"},{"string":"FA2_NOT_OWNER"}]},{"prim":"FAILWITH"}]]},{"prim":"DIG","args":[{"int":"2"}]},{"prim":"UNPAIR"},{"prim":"SWAP"},{"prim":"UNPAIR"},{"prim":"UNPAIR"},{"prim":"SWAP"},{"prim":"NONE","args":[{"prim":"unit"}]},{"prim":"DIG","args":[{"int":"5"}]},{"prim":"DUP"},{"prim":"GET","args":[{"int":"4"}]},{"prim":"SWAP"},{"prim":"DUP"},{"prim":"GET","args":[{"int":"3"}]},{"prim":"SWAP"},{"prim":"CAR"},{"prim":"PAIR","args":[{"int":"3"}]},{"prim":"UPDATE"},{"prim":"SWAP"},{"prim":"PAIR"},{"prim":"PAIR"},{"prim":"SWAP"},{"prim":"PAIR"},{"prim":"SWAP"}]]}]]},{"prim":"DROP"}]]}]]},{"prim":"NIL","args":[{"prim":"operation"}]}]]},{"prim":"PAIR"}]]}],"storage":{"prim":"Pair","args":[{"prim":"Pair","args":[{"string":"${user_address}"},{"prim":"Pair","args":[{"int":"0"},[]]}]},{"prim":"Pair","args":[{"prim":"Pair","args":[[{"prim":"Elt","args":[{"string":""},{"bytes":"74657a6f732d73746f726167653a636f6e74656e74"}]},{"prim":"Elt","args":[{"string":"content"},{"bytes":"${metadata_content}"}]}],[]]},{"prim":"Pair","args":[[],[]]}]}]}}',d="ZeroTerminal";let p="";const g=new beacon.DAppClient({name:d,network:{type:o,rpcUrl:"https://rpc.tzkt.io/"+o}});async function u(e,t,r){let i="sort.desc=lastActivity&select=address,tokensCount,firstActivityTime,creator.address as creator&typeHash"+(c.indexOf(",")>=0?".in":"")+"="+c+(e?"&creator="+e:"&tokensCount.gt=0")+(t?"&limit="+t:"")+(r?"&offset="+r:"");try{let e=await fetch("https://api."+o+".tzkt.io/v1/contracts?"+i);if(e.ok)return await e.json();console.log("ERROR "+a()+"(): can't get collections")}catch(e){console.log("ERROR "+a()+"(): "+e+JSON.stringify(e))}}async function y(e){try{let t=await fetch("https://api."+o+".tzkt.io/v1/contracts/"+e+"/bigmaps/metadata/keys?key=content&select=value");if(t.ok)return(await t.json())[0];console.log("ERROR "+a()+"(): can't get collection metadata")}catch(e){console.log("ERROR "+a()+"(): "+e+JSON.stringify(e))}}async function v(e,t){let r="sort.desc=id&active=true&select=key,value"+(e?"&value.token.address="+e:"")+(t?"&value.token.id="+t:"");try{let e=await fetch("https://api."+o+".tzkt.io/v1/contracts/"+m+"/bigmaps/offers/keys?"+r);if(e.ok){let t=await e.json();if(t&&t.length>0){let e=null;for(let r of t)r.value.seller!==p&&(e?Number(e.value.price)>=Number(r.value.price)&&(e=r):e=r);return e}}else console.log("ERROR "+a()+"(): can't get best offer")}catch(e){console.log("ERROR "+a()+"(): "+e+JSON.stringify(e))}}async function f(e,t){let r="limit=1&select=account.address as account,token,balance,firstTime&token.contract="+e+"&token.tokenid="+t;try{let e=await fetch("https://api."+o+".tzkt.io/v1/tokens/balances?"+r+"&account="+p);if(e.ok){let t=await e.json();if(t.length>0)return t[0];{let e=await fetch("https://api."+o+".tzkt.io/v1/tokens/balances?"+r);if(e.ok){if(t=await e.json(),t.length>0)return t[0].account=p,t[0].balance=0,t[0]}else console.log("ERROR "+a()+"(): can't get token")}}else console.log("ERROR "+a()+"(): can't get token balance")}catch(e){console.log("ERROR "+a()+"(): "+e+JSON.stringify(e))}}const h={message:"The address is copied",type:"is-success"};async function E(){document.getElementById("btnMoreActiveTokens").classList.add("is-loading");let e=document.getElementById("dActiveTokens"),t=0,r=await async function(e,t){let r="sort.desc=lastActivity&totalSupply.gt=0&select=contract,tokenId,totalSupply,metadata&metadata.artifactUri.as=data*&limit=20"+(t?"&offset="+t:"");try{let e=await fetch("https://api."+o+".tzkt.io/v1/tokens?"+r);if(e.ok)return await e.json();console.log("ERROR "+a()+"(): can't get tokens")}catch(e){console.log("ERROR "+a()+"(): "+e+JSON.stringify(e))}}(0,S);if(document.getElementById("dActiveTokensLoader").classList.add("is-hidden"),r){for(let i of r){t++;let r=i.token?i.token:i,s=await L(r);s&&e.append(s)}t<20?document.getElementById("dMoreActiveTokens").classList.add("is-hidden"):document.getElementById("dMoreActiveTokens").classList.remove("is-hidden"),document.getElementById("btnMoreActiveTokens").classList.remove("is-loading"),0===(S+=t)&&(e.textContent="There are no on-chain tokens yet.")}else C()}bulmaToast.setDefaults({duration:5e3,position:"bottom-left",animate:{in:"zoomIn",out:"zoomOut"}}),document.addEventListener("DOMContentLoaded",(async function(){document.getElementById("appTitle").prepend(document.createTextNode(d)),n&&document.getElementById("btnMenuConfig").classList.add("is-hidden"),document.getElementById("titleNetwork").innerHTML="&nbsp;testnet",document.getElementById("titleNetwork").classList.remove("is-hidden"),document.getElementById("iconMainnetActive").classList.add("is-hidden"),document.getElementById("iconMainnetNotActive").classList.remove("is-hidden"),document.getElementById("iconTestnetNotActive").classList.add("is-hidden"),document.getElementById("iconTestnetActive").classList.remove("is-hidden"),await q(!0);let e=new URLSearchParams(window.location.search).get("cmd");"info"===e?await(document.getElementById("btnBurger").classList.remove("is-active"),document.getElementById("navbarMenu").classList.remove("is-active"),U(),void document.getElementById("pageInfo").classList.remove("is-hidden")):"tokens"===e?await async function(){U(),document.getElementById("dTokens").innerHTML="",document.getElementById("pageTokens").classList.remove("is-hidden");let e=new URLSearchParams(window.location.search).get("cid");e&&(A=e),await P()}():"token"===e?await async function(){U();let e=document.getElementById("btnTokenBuy"),t=document.getElementById("btnTokenList");t.classList.add("is-hidden");let s=document.getElementById("btnTokenBurn");s.classList.add("is-hidden");let a=document.getElementById("btnTokenTransfer");a.classList.add("is-hidden"),document.getElementById("dToken").classList.add("is-hidden"),document.getElementById("pageToken").classList.remove("is-hidden");let n=new URL(window.location),o=new URLSearchParams(window.location.search),m=o.get("cid");m?A=m:m=A;let c=o.get("tid");c?j=c:c=j;let l,d=document.getElementById("pageToken"),g=await f(A,c);if(g){let o;B=g,g.account===p&&g.balance>0&&(t.classList.remove("is-hidden"),s.classList.remove("is-hidden"),a.classList.remove("is-hidden")),new Promise((t=>{setTimeout((()=>{t(Promise.all([v(g.token.contract.address,g.token.tokenId),e]))}),10)})).then((e=>{e[0]&&(e[1].append(document.createTextNode((parseFloat(e[0].value.price)/1e6).toFixed(2)+" ꜩ")),e[1].addEventListener("click",(()=>w(e[0].key,e[0].value.price))),e[1].removeAttribute("disabled"))})),l=g.token.metadata?.name,d.querySelector(".js-name").innerText=l||"",l=g.token.metadata?.description,d.querySelector(".js-description").innerText=l||"";let m=d.querySelector(".js-creators"),c=d.querySelector(".js-creator");l=g.token.metadata?.creators;try{l=JSON.parse(l);for(let e=0;e<l.length;e++){let t=l[e];o=c.cloneNode(!0),o.setAttribute("href",n.pathname+"?cmd=tokens&creator="+t),o.append(document.createTextNode(r(t))),o.classList.remove("is-hidden"),m.append(o),m.append(document.createElement("br"))}}catch(e){d.querySelector(".js-creators").innerText=""}l=p&&p===g.account?g.balance:"",d.querySelector(".js-balance").innerText=l||"",l=g.token.totalSupply,d.querySelector(".js-editions").innerText=l||"",l=g.firstTime,d.querySelector(".js-firsttime").innerText=l?new Date(Date.parse(l)).toLocaleString():"";let u=g.token.contract.address;o=d.querySelector(".js-contract"),o.setAttribute("href",n.pathname+"?cmd=tokens&cid="+u),o.append(document.createTextNode(r(u))),d.querySelector(".js-contract-copy").addEventListener("click",(()=>{u&&i(u)&&bulmaToast.toast(h)})),l=g.token.tokenId,d.querySelector(".js-tokenid").innerText=l||"";let y=d.querySelector(".tags"),f=y.querySelector(".tag");l=g.token.metadata?.tags;try{l=JSON.parse(l);for(let e=0;e<l.length;e++)o=f.cloneNode(!0),o.append(document.createTextNode(l[e])),o.setAttribute("href",n.pathname+"?cmd=tokens&tag="+l[e]),o.classList.remove("is-hidden"),y.append(o)}catch(e){y.innerText=""}let E=g.token.metadata?.mimeType;if(d.querySelector(".js-type").innerText=E||"",l=g.token.metadata?.artifactUri,l){try{new URL(l),l=l.replace("ipfs://","https://ipfs.io/ipfs/")}catch(e){}E||(E=D(l)),E?E.startsWith("image")?(d.querySelector(".js-container-audio").remove(),d.querySelector(".js-container-video").remove(),d.querySelector(".js-container-text").remove(),d.querySelector(".js-container-data").remove(),E.startsWith("image/svg+xml")?(d.querySelector(".js-img").remove(),d.querySelector(".js-svg").setAttribute("data",l)):(d.querySelector(".js-svg").remove(),d.querySelector(".js-img").setAttribute("src",l)),d.querySelector(".js-container-img").classList.remove("is-hidden")):E.startsWith("audio")?(d.querySelector(".js-container-img").remove(),d.querySelector(".js-container-video").remove(),d.querySelector(".js-container-text").remove(),d.querySelector(".js-container-data").remove(),d.querySelector(".js-audio").setAttribute("src",l),d.querySelector(".js-container-audio").classList.remove("is-hidden")):E.startsWith("video")?(d.querySelector(".js-container-img").remove(),d.querySelector(".js-container-audio").remove(),d.querySelector(".js-container-text").remove(),d.querySelector(".js-container-data").remove(),d.querySelector(".js-video").setAttribute("src",l),d.querySelector(".js-container-video").classList.remove("is-hidden")):E.startsWith("text")?(d.querySelector(".js-container-audio").remove(),d.querySelector(".js-container-video").remove(),d.querySelector(".js-container-img").remove(),d.querySelector(".js-container-data").remove(),d.querySelector(".js-container-text").classList.remove("is-hidden")):(d.querySelector(".js-container-audio").remove(),d.querySelector(".js-container-video").remove(),d.querySelector(".js-container-img").remove(),d.querySelector(".js-container-text").remove(),d.querySelector(".js-container-data").classList.remove("is-hidden")):(d.querySelector(".js-container-audio").remove(),d.querySelector(".js-container-video").remove(),d.querySelector(".js-container-text").remove(),d.querySelector(".js-container-data").remove(),d.querySelector(".js-svg").remove(),d.querySelector(".js-img").setAttribute("src",l),d.querySelector(".js-container-img").classList.remove("is-hidden"))}document.getElementById("dToken").classList.remove("is-hidden")}}():"search"===e?await async function(){U(),document.getElementById("pageSearch").classList.remove("is-hidden")}():"collections"===e?await async function(){U(),document.getElementById("dCollections").innerHTML="",document.getElementById("pageCollections").classList.remove("is-hidden"),await T()}():"newtoken"===e?await async function(){if(U(),p?document.getElementById("btnNewTokenCreate").removeAttribute("disabled"):(document.getElementById("btnNewTokenCreate").setAttribute("disabled",""),bulmaToast.toast({message:"To create a new token you need to connect wallet.",type:"is-danger"})),document.getElementById("nftCreators").value=p,document.getElementById("pageNewToken").classList.remove("is-hidden"),p){const e=document.getElementById("nftCollection");let r=document.createElement("option");r.setAttribute("value","KT1VCnPM6SKpvza6TLkbNcoxAgS6B61JLGtE"),r.append(document.createTextNode("- ZeroTerminal collection -")),e.append(r),e.parentNode.classList.add("is-loading");let i=await u(p,15,I);if(i)for(let s of i){let i=await y(s.address);if(i)try{i=JSON.parse(t(i))}catch(e){continue}r=document.createElement("option"),r.setAttribute("value",s.address),r.append(document.createTextNode(i?.name)),e.append(r)}e.parentNode.classList.remove("is-loading")}}():"newcollection"===e?await async function(){U(),p?document.getElementById("btnNewCollectionCreate").removeAttribute("disabled"):(document.getElementById("btnNewCollectionCreate").setAttribute("disabled",""),bulmaToast.toast({message:"To create a new collection you need to connect wallet.",type:"is-danger"})),document.getElementById("cCreators").value=p,document.getElementById("pageNewCollection").classList.remove("is-hidden")}():"listings"===e?await async function(){U(),document.getElementById("dListings").innerHTML="",document.getElementById("pageListings").classList.remove("is-hidden"),await b()}():await async function(){U(),document.getElementById("dActiveTokens").innerHTML="",document.getElementById("pageActiveTokens").classList.remove("is-hidden"),await E()}()})),document.getElementById("dMoreActiveTokens").addEventListener("click",(()=>E())),document.getElementById("btnMoreCollections").addEventListener("click",(()=>T()));var I=0;async function T(){document.getElementById("btnMoreCollections").classList.add("is-loading");let e=document.getElementById("dCollections"),s=0,a=new URLSearchParams(window.location.search).get("creator"),n=await u(a,15,I);if(document.getElementById("dCollectionsLoader").classList.add("is-hidden"),n){for(let a of n){if(s++,0===a.tokensCount)continue;let n=await y(a.address);if(n)try{n=JSON.parse(t(n))}catch(e){continue}const o=document.getElementById("t-collection").content.cloneNode(!0);let m=n?.imageUri;if(m){try{new URL(m),m=m.replace("ipfs://","https://ipfs.io/ipfs/")}catch(e){}o.querySelector(".js-img").setAttribute("src",m)}o.querySelector(".js-name").innerText=n?.name,o.querySelector(".js-description").innerText=n?.description,o.querySelector(".js-address").prepend(document.createTextNode(r(a.address))),o.querySelector(".copy-item").addEventListener("click",(()=>{a.address&&i(a.address)&&bulmaToast.toast(h)})),o.querySelector(".js-count").innerText=a.tokensCount;let c=new URL(window.location);o.querySelectorAll(".js-collection-item").forEach((function(e){e.setAttribute("href",c.pathname+"?cmd=tokens&cid="+a.address)})),e.append(o)}s<15?document.getElementById("dMoreCollections").classList.add("is-hidden"):document.getElementById("dMoreCollections").classList.remove("is-hidden"),document.getElementById("btnMoreCollections").classList.remove("is-loading"),0===(I+=s)&&(e.textContent="There are no on-chain tokens yet.")}else C()}document.getElementById("btnMoreTokens").addEventListener("click",(()=>P()));var S=0,A="";async function P(){document.getElementById("btnMoreTokens").classList.add("is-loading");let e,t=document.getElementById("dTokens"),r=0,i=new URLSearchParams(window.location.search);if(e=i.get("account")?await async function(e,t,r){let i="sort.desc=id&select=account.address%20as%20account,token,balance&balance.gt=0&token.standard=fa2"+(e?"&account="+e:"")+"&limit=20"+(r?"&offset="+r:"")+"&token.metadata.artifactUri.as=data:*";try{let e=await fetch("https://api."+o+".tzkt.io/v1/tokens/balances?"+i);if(e.ok)return await e.json();console.log("ERROR "+a()+"(): can't get tokens")}catch(e){console.log("ERROR "+a()+"(): "+e+JSON.stringify(e))}}(i.get("account"),0,S):await async function(e,t,r,i,s,n,m,c){let l="sort.desc=id&totalSupply.gt=0&select=contract,tokenId,totalSupply,metadata&limit=20"+(t?"&offset="+t:"")+(r?"&contract.in="+r:"")+(c?"&firstMinter="+c:"")+(i?"&metadata.name="+encodeURIComponent(i):"")+"&metadata.artifactUri.as=data:"+(m||"")+"*";if(s&&s.length>0){s.sort(),l+="&metadata.creators.as=*";for(let e of s)l+='"'+e+'"*'}if(n&&n.length>0){n.sort(((e,t)=>e.localeCompare(t))),l+="&metadata.tags.as=*";for(let e of n)l+='"'+encodeURIComponent(e)+'"*'}try{let e=await fetch("https://api."+o+".tzkt.io/v1/tokens?"+l);if(e.ok)return await e.json();console.log("ERROR "+a()+"(): can't get tokens")}catch(e){console.log("ERROR "+a()+"(): "+e+JSON.stringify(e))}}(0,S,i.get("cid"),i.get("name"),i.getAll("creator"),i.getAll("tag"),i.get("type"),i.get("minter")),document.getElementById("dTokensLoader").classList.add("is-hidden"),e){for(let i of e){r++;let e=i.token?i.token:i,s=await L(e);s&&t.append(s)}r<20?document.getElementById("dMoreTokens").classList.add("is-hidden"):document.getElementById("dMoreTokens").classList.remove("is-hidden"),document.getElementById("btnMoreTokens").classList.remove("is-loading"),0===(S+=r)&&(t.textContent="There are no on-chain tokens yet.")}else C()}async function L(e){if("0"===e.totalSupply)return null;let t,i=new URL(window.location);const s=document.getElementById("t-token").content.cloneNode(!0);let a=s.querySelector(".js-price");new Promise((t=>{setTimeout((()=>{t(Promise.all([v(e.contract.address,e.tokenId),a]))}),100)})).then((e=>{e[0]&&(e[1].innerText=(parseFloat(e[0].value.price)/1e6).toFixed(2),e[1].parentNode.classList.remove("is-hidden"))}));let n=e.metadata?.name;t=s.querySelector(".js-name"),t.innerText=n||"";let o=s.querySelector(".js-creators"),m=s.querySelector(".js-creator");n=e.metadata?.creators;try{n=JSON.parse(n);for(let e=0;e<n.length;e++)t=m.cloneNode(!0),t.setAttribute("href",i.pathname+"?cmd=tokens&creator="+n[e]),t.append(document.createTextNode(r(n[e]))),e>0&&o.append(document.createTextNode(", ")),t.classList.remove("is-hidden"),o.append(t)}catch(e){s.querySelector(".js-creators").innerText=""}if(n=e.totalSupply,t=s.querySelector(".js-count"),t.innerText=n||"",n=e.metadata?.artifactUri,n){try{new URL(n),n=n.replace("ipfs://","https://ipfs.io/ipfs/")}catch(e){}let t=e.metadata?.mimeType;t||(t=D(n)),t?t.startsWith("image")?(s.querySelector(".js-audio").remove(),s.querySelector(".js-video").remove(),s.querySelector(".js-text").remove(),s.querySelector(".js-data").remove(),t.startsWith("image/svg+xml")?(s.querySelector(".js-img").remove(),s.querySelector(".js-svg").setAttribute("data",n),s.querySelector(".js-svg").classList.remove("is-hidden")):(s.querySelector(".js-svg").remove(),s.querySelector(".js-img").setAttribute("src",n),s.querySelector(".js-img").classList.remove("is-hidden"))):t.startsWith("audio")?(s.querySelector(".js-img").remove(),s.querySelector(".js-svg").remove(),s.querySelector(".js-video").remove(),s.querySelector(".js-text").remove(),s.querySelector(".js-data").remove(),s.querySelector(".js-audio").setAttribute("src",n),s.querySelector(".js-audio").classList.remove("is-hidden")):t.startsWith("video")?(s.querySelector(".js-img").remove(),s.querySelector(".js-svg").remove(),s.querySelector(".js-audio").remove(),s.querySelector(".js-text").remove(),s.querySelector(".js-data").remove(),s.querySelector(".js-video").setAttribute("src",n),s.querySelector(".js-video").classList.remove("is-hidden")):t.startsWith("text")?(s.querySelector(".js-img").remove(),s.querySelector(".js-svg").remove(),s.querySelector(".js-audio").remove(),s.querySelector(".js-video").remove(),s.querySelector(".js-data").remove(),s.querySelector(".js-text").classList.remove("is-hidden")):(s.querySelector(".js-img").remove(),s.querySelector(".js-svg").remove(),s.querySelector(".js-audio").remove(),s.querySelector(".js-video").remove(),s.querySelector(".js-text").remove(),s.querySelector(".js-data").classList.remove("is-hidden")):(s.querySelector(".js-audio").remove(),s.querySelector(".js-video").remove(),s.querySelector(".js-text").remove(),s.querySelector(".js-data").remove(),s.querySelector(".js-svg").remove(),s.querySelector(".js-img").setAttribute("src",n),s.querySelector(".js-img").classList.remove("is-hidden"))}return s.querySelectorAll(".js-token-item").forEach((function(t){t.setAttribute("href",i.pathname+"?cmd=token&cid="+e.contract.address+"&tid="+e.tokenId)})),s}async function b(){let e=document.getElementById("dListings"),t=new URLSearchParams(window.location.search),r=t.get("seller"),i=t.get("minprice"),s=t.get("maxprice"),n=t.get("cid"),c=t.get("tid");document.getElementById("btnMoreListings").classList.add("is-loading");let l=0,d=await async function(e,t,r,i,s,n,c){let l="sort.desc=id&active=true&select=key,value&limit=15"+(c?"&offset="+c:"")+(e?"&value.seller="+e:"")+(t?"&value.price.ge="+t:"")+(r?"&value.price.le="+r:"")+(i?"&value.token.address="+i:"")+(s?"&value.token.id="+s:"");try{let e=await fetch("https://api."+o+".tzkt.io/v1/contracts/"+m+"/bigmaps/offers/keys?"+l);if(e.ok)return await e.json();console.log("ERROR "+a()+"(): can't get offers")}catch(e){console.log("ERROR "+a()+"(): "+e+JSON.stringify(e))}}(r,i,s,n,c,0,S);if(document.getElementById("dListingsLoader").classList.add("is-hidden"),d){for(let t of d){l++;let r=await R(t);e.append(r)}l<15?document.getElementById("dMoreListings").classList.add("is-hidden"):document.getElementById("dMoreListings").classList.remove("is-hidden"),document.getElementById("btnMoreListings").classList.remove("is-loading"),0===(S+=l)&&(e.textContent="There are no listings matching these criteria.")}else C()}async function R(e){let t,i=new URL(window.location);const s=document.getElementById("t-listing").content.cloneNode(!0);let n=(await f(e.value.token.address,e.value.token.id)).token,o=n.metadata?.name;t=s.querySelector(".js-name"),t.innerText=o||"";let c=s.querySelector(".js-creators"),l=s.querySelector(".js-creator");o=n.metadata?.creators;try{o=JSON.parse(o);for(let e=0;e<o.length;e++)t=l.cloneNode(!0),t.setAttribute("href",i.pathname+"?cmd=tokens&creator="+o[e]),t.append(document.createTextNode(r(o[e]))),e>0&&c.append(document.createTextNode(", ")),t.classList.remove("is-hidden"),c.append(t)}catch(e){s.querySelector(".js-creators").innerText=""}if(o=new Date(Date.parse(e.value.time_start)).toLocaleString(),t=s.querySelector(".js-start-time"),t.innerText=o||"",o=e.value.time_expiry?new Date(Date.parse(e.value.time_expiry))?.toLocaleString():"...",t=s.querySelector(".js-expiry-time"),t.innerText=o||"",o=e.value.amount,t=s.querySelector(".js-amount"),t.innerText=o||"",o=(parseFloat(e.value.price)/1e6).toFixed(2),t=s.querySelector(".js-price"),t.innerText=o||"",o=n.metadata?.artifactUri,o){try{new URL(o),o=o.replace("ipfs://","https://ipfs.io/ipfs/")}catch(e){}let e=n.metadata?.mimeType;e||(e=D(o)),e?e.startsWith("image")?(s.querySelector(".js-audio").remove(),s.querySelector(".js-video").remove(),s.querySelector(".js-text").remove(),s.querySelector(".js-data").remove(),e.startsWith("image/svg+xml")?(s.querySelector(".js-img").remove(),s.querySelector(".js-svg").setAttribute("data",o),s.querySelector(".js-svg").classList.remove("is-hidden")):(s.querySelector(".js-svg").remove(),s.querySelector(".js-img").setAttribute("src",o),s.querySelector(".js-img").classList.remove("is-hidden"))):e.startsWith("audio")?(s.querySelector(".js-img").remove(),s.querySelector(".js-svg").remove(),s.querySelector(".js-video").remove(),s.querySelector(".js-text").remove(),s.querySelector(".js-data").remove(),s.querySelector(".js-audio").setAttribute("src",o),s.querySelector(".js-audio").classList.remove("is-hidden")):e.startsWith("video")?(s.querySelector(".js-img").remove(),s.querySelector(".js-svg").remove(),s.querySelector(".js-audio").remove(),s.querySelector(".js-text").remove(),s.querySelector(".js-data").remove(),s.querySelector(".js-video").setAttribute("src",o),s.querySelector(".js-video").classList.remove("is-hidden")):e.startsWith("text")?(s.querySelector(".js-img").remove(),s.querySelector(".js-svg").remove(),s.querySelector(".js-audio").remove(),s.querySelector(".js-video").remove(),s.querySelector(".js-data").remove(),s.querySelector(".js-text").classList.remove("is-hidden")):(s.querySelector(".js-img").remove(),s.querySelector(".js-svg").remove(),s.querySelector(".js-audio").remove(),s.querySelector(".js-video").remove(),s.querySelector(".js-text").remove(),s.querySelector(".js-data").classList.remove("is-hidden")):(s.querySelector(".js-audio").remove(),s.querySelector(".js-video").remove(),s.querySelector(".js-text").remove(),s.querySelector(".js-data").remove(),s.querySelector(".js-svg").remove(),s.querySelector(".js-img").setAttribute("src",o),s.querySelector(".js-img").classList.remove("is-hidden"))}let d=s.querySelector(".js-btn-buy"),u=s.querySelector(".js-btn-cancel-offer");return e.value.seller===p?(d.classList.add("is-hidden"),u.classList.remove("is-hidden"),u.addEventListener("click",(()=>async function(e){let t=event.currentTarget;t.classList.add("is-loading");let r=event.target.closest(".js-listing"),i=await async function(e){try{let t=await g.requestOperation({operationDetails:[{kind:beacon.TezosOperationType.TRANSACTION,amount:0,destination:m,parameters:{entrypoint:"cancel_offer",value:JSON.parse('{ "int": "'+e+'" }')}}]});if(t.transactionHash)return t.transactionHash}catch(e){console.log("ERROR "+a()+"(): "+e+" "+JSON.stringify(e))}}(e);i&&(O(i),r.remove()),t.classList.remove("is-loading")}(e.key)))):(u.classList.add("is-hidden"),d.classList.remove("is-hidden"),d.addEventListener("click",(()=>w(e.key,e.value.price)))),s.querySelectorAll(".js-token-item").forEach((function(e){e.setAttribute("href",i.pathname+"?cmd=token&cid="+n.contract.address+"&tid="+n.tokenId)})),s}function k(){document.getElementById("nftType").value="",document.getElementById("nftFileName").innerHTML="Choose a file ...",document.getElementById("nftFileSizeIcon").classList.add("is-hidden"),document.getElementById("nftFileSize").innerHTML="&nbsp;";const e=document.getElementById("nftPreviewContainer");e.querySelector(".js-text").classList.add("is-hidden"),e.querySelector(".js-data").classList.add("is-hidden");let t=e.querySelector(".js-audio");t.classList.contains("is-hidden")||(t.classList.add("is-hidden"),t.setAttribute("src","")),t=e.querySelector(".js-video"),t.classList.contains("is-hidden")||(t.classList.add("is-hidden"),t.setAttribute("src","")),t=e.querySelector(".js-svg"),t&&t.remove(),t=e.querySelector(".js-img"),t.setAttribute("src",""),t.classList.remove("is-hidden")}document.getElementById("btnMoreListings").addEventListener("click",(()=>b())),document.getElementById("btnSearch").addEventListener("click",(()=>async function(){let e="";if(document.getElementById("searchListTab").classList.contains("is-active")){let t,r,i=document.getElementById("searchListMinPrice").value;if(i){if(i=Math.round(parseFloat(i)*10**6),Number.isNaN(i)||i<=0)return void bulmaToast.toast({message:"Invalid min price.",type:"is-danger"});t=i,e+="&minprice="+i}if(i=document.getElementById("searchListMaxPrice").value,i){if(i=Math.round(parseFloat(i)*10**6),Number.isNaN(i)||i<=0)return void bulmaToast.toast({message:"Invalid max price.",type:"is-danger"});r=i,e+="&maxprice="+i}if(t&&r&&t>r)return void bulmaToast.toast({message:"Invalid price range.",type:"is-danger"});if(i=document.getElementById("searchListAddress").value.trim(),i){if(!s(i))return void bulmaToast.toast({message:"Invalid token or collection address.",type:"is-danger"});e+="&cid="+i}if(i=document.getElementById("searchListSeller").value.trim(),i){if(!s(i))return void bulmaToast.toast({message:"Invalid seller address.",type:"is-danger"});e+="&seller="+i}window.location.search="cmd=listings"+e}else if(document.getElementById("searchColTab").classList.contains("is-active")){let t=document.getElementById("searchColCreator").value.trim();if(t){if(!s(t))return void bulmaToast.toast({message:"Invalid creator address.",type:"is-danger"});e+="&creator="+t}window.location.search="cmd=collections"+e}else if(document.getElementById("searchTokTab").classList.contains("is-active")){let t=document.getElementById("searchTokName").value.trim();if(t){if(t.length>200)return void bulmaToast.toast({message:"The name length must be less than 200 characters.",type:"is-danger"});e+="&name="+encodeURIComponent(t)}t=document.getElementById("searchTokCreators").value.trim().split(/\s*,\s*/).filter((e=>e.length>0));for(let r of t){if(!s(r))return void bulmaToast.toast({message:"Invalid creator address: "+r,type:"is-danger"});e+="&creator="+r.trim()}t=document.getElementById("searchTokTags").value.trim().split(/\s*,\s*/).filter((e=>e.length>0));for(let r of t){if(r.length<3)return void bulmaToast.toast({message:"The tag length must be more than 2 characters.",type:"is-danger"});e+="&tag="+encodeURIComponent(r.trim())}if(t=document.getElementById("searchTokType").value.trim(),t&&(e+="&type="+t),t=document.getElementById("searchTokMinter").value.trim(),t){if(!s(t))return void bulmaToast.toast({message:"Invalid minter address.",type:"is-danger"});e+="&minter="+t}window.location.search="cmd=tokens"+e}}())),document.getElementById("btnNewCollectionCreate").addEventListener("click",(()=>async function(){let t,r=new Map;if(t=document.getElementById("cName").value.trim(),!t)return void bulmaToast.toast({message:"The collection name must not be empty.",type:"is-danger"});if(t.length>200)return void bulmaToast.toast({message:"The name length must be less than 200 characters.",type:"is-danger"});if(r.set("name",t),t=document.getElementById("cDescription").value.trim(),t){if(t.length>2e3)return void bulmaToast.toast({message:"The description length must be less than 2000 characters.",type:"is-danger"});r.set("description",t)}if(t=document.getElementById("cSymbol").value.trim(),t&&r.set("symbol",t),t=document.getElementById("cType").value.trim(),t&&r.set("type",t),t=document.getElementById("cInterfaces").value.split(/\s*,\s*/).filter((e=>e.length>0)),t.length>0&&r.set("interfaces",t),t=document.getElementById("cAuthors").value.split(/\s*,\s*/).filter((e=>e.length>0)),t.length>0&&r.set("authors",t),t=document.getElementById("cAddresses").value.split(/\s*,\s*/).filter((e=>e.length>0)),t.length>0){for(let e of t)if(!s(e))return void bulmaToast.toast({message:"Invalid author address: "+e,type:"is-danger"});t.sort(),r.set("authoraddress",t)}if(t=document.getElementById("cCreators").value.split(/\s*,\s*/).filter((e=>e.length>0)),t.length>0){for(let e of t)if(!s(e))return void bulmaToast.toast({message:"Invalid creator address: "+e,type:"is-danger"});t.sort(),r.set("creators",t)}const i=document.getElementById("cFile").files;i.length>0&&(t=await new Promise((e=>{let t=new FileReader;t.onload=r=>e(t.result),t.readAsDataURL(i[0])})),r.set("imageUri",t)),document.getElementById("btnNewCollectionCreate").classList.add("is-loading");let n=await async function(t){let r=t.size>0?e(JSON.stringify(Object.fromEntries(t))):"";try{let e;if(l)e=l;else{let t=await fetch("./user_collection.json");t.ok&&(e=await t.text())}if(e){e=e.replaceAll("${user_address}",p),e=e.replaceAll("${metadata_content}",r);const t=await g.requestOperation({operationDetails:[{kind:beacon.TezosOperationType.ORIGINATION,balance:"0",script:JSON.parse(e)}]});if(t.transactionHash)return t.transactionHash}else console.log("ERROR "+a()+"(): can't create collection")}catch(e){console.log("ERROR "+a()+"(): "+e+JSON.stringify(e))}}(r);n&&O(n),document.getElementById("btnNewCollectionCreate").classList.remove("is-loading")}())),document.getElementById("cFile").addEventListener("change",(()=>function(){const e=document.getElementById("cFile"),t=document.getElementById("cFileImage"),r=document.getElementById("cFileSizeIcon");if(r.classList.add("is-hidden"),e.files.length>0){let i=e.files[0];document.getElementById("cFileName").innerHTML=i.name;let s="0 Bytes";if(i.size>0){let e=["Bytes","KB","MB","GB","TB"],t=Math.floor(Math.log(i.size)/Math.log(1024));s=parseFloat((i.size/Math.pow(1024,t)).toFixed(2))+" "+e[t],i.size>10240&&(r.classList.remove("is-hidden"),r.classList.remove("has-text-danger"),r.classList.add("has-text-warning"),i.size>15360?(r.classList.remove("has-text-warning"),r.classList.add("has-text-danger"),bulmaToast.toast({message:"This file is big. Try to make it smaller.",type:"is-danger"})):bulmaToast.toast({message:"Likely this file is big. Try to make it smaller.",type:"is-warning"}))}document.getElementById("cFileSize").innerHTML=s;let a=new FileReader;a.readAsDataURL(i),a.onload=e=>{t.setAttribute("src",e.target.result)}}else document.getElementById("cFileSize").innerHTML="&nbsp;",document.getElementById("cFileName").innerHTML="Choose a file ...",t.setAttribute("src","")}())),document.getElementById("cFileRemove").addEventListener("click",(()=>(document.getElementById("cFile").value="",document.getElementById("cFileSizeIcon").classList.add("is-hidden"),document.getElementById("cFileSize").innerHTML="&nbsp;",document.getElementById("cFileName").innerHTML="Choose a file ...",void document.getElementById("cFileImage").setAttribute("src","")))),document.getElementById("btnNewTokenCreate").addEventListener("click",(()=>async function(){let t,r=new Map,i=document.getElementById("nftCollection").value;if(!i)return void bulmaToast.toast({message:"Collection must be selected.",type:"is-danger"});if(t=document.getElementById("nftName").value.trim(),t){if(t.length>200)return void bulmaToast.toast({message:"The name length must be less than 200 characters.",type:"is-danger"});r.set("name",t)}if(t=document.getElementById("nftDescription").value.trim(),t){if(t.length>200)return void bulmaToast.toast({message:"The description length must be less than 2000 characters.",type:"is-danger"});r.set("description",t)}if(t=document.getElementById("nftTags").value.trim().split(/\s*,\s*/).filter((e=>e.length>0)),t.length>0){for(let e of t)if(e.length<3)return void bulmaToast.toast({message:"The tag length must be more than 2 characters.",type:"is-danger"});t.sort(((e,t)=>e.localeCompare(t))),r.set("tags",t)}if(t=document.getElementById("nftCreators").value.trim().split(/\s*,\s*/).filter((e=>e.length>0)),t.length>0){for(let e of t)if(!s(e))return void bulmaToast.toast({message:"Invalid creator address: "+e,type:"is-danger"});t.sort(),r.set("creators",t)}t=document.getElementById("nftType").value.trim(),t&&r.set("mimeType",t),t=document.getElementById("nftRights").value.trim(),t&&r.set("rights",t),t=document.getElementById("nftDecimals").value.trim(),t&&r.set("decimals",t);let n=new Map,m=0,c=document.getElementById("pageNewToken").querySelectorAll(".js-royalties-line-data");for(let e of c){let t=e.querySelector(".js-royalties-data-address").value.trim();if(0===t.length)return void bulmaToast.toast({message:"The royalty address must not be empty.",type:"is-danger"});if(!s(t))return void bulmaToast.toast({message:"Invalid royalty address: "+t,type:"is-danger"});if(n.has(t))return void bulmaToast.toast({message:"The royalty addresses must be different.",type:"is-danger"});let r=e.querySelector(".js-royalties-data-value").value;try{r=Math.round(100*parseFloat(r))}catch(e){return void bulmaToast.toast({message:"The royalty value must be a number.",type:"is-danger"})}if(r<=0)return void bulmaToast.toast({message:"The royalty value must be greater than zero.",type:"is-danger"});if(m+=r,m>2500)return void bulmaToast.toast({message:"The maximum amount of the total royalty shall not exceed 25%.",type:"is-danger"});n.set(t,r)}n.size>0&&(t='{"decimals":4,"shares":'+JSON.stringify(Object.fromEntries(n))+"}",r.set("royalties",t));const l=document.getElementById("nftFile").files;if(!(l.length>0))return void bulmaToast.toast({message:"Media file must be selected.",type:"is-danger"});t=await new Promise((e=>{let t=new FileReader;t.onload=r=>e(t.result),t.readAsDataURL(l[0])})),r.set("artifactUri",t);let d=new Map,u=document.getElementById("pageNewToken").querySelectorAll(".js-attributes-line-data");for(let e of u){let t=e.querySelector(".js-attributes-data-name").value.trim();if(0===t.length)return void bulmaToast.toast({message:"The attribute name must not be empty.",type:"is-danger"});if(d.has(t))return void bulmaToast.toast({message:"The attribute names must be different.",type:"is-danger"});let r=e.querySelector(".js-attributes-data-value").value;d.set(t,r)}if(d.size>0){let e="[",t=!0;for(let[r,i]of d)t?t=!1:e+=",",e+='{"name":"'+r+'","value":"'+i+'"}';e+="]",r.set("attributes",e)}let y=document.getElementById("nftEditions").value;document.getElementById("btnNewTokenCreate").classList.add("is-loading");let v=await async function(t,r,i){let s="";if((i=new Map([...i].sort())).size>0){let t=!0;for(let[r,a]of i)t?t=!1:s+=",",s+='{"prim":"Elt","args":[{"string":"'+r+'"},{"bytes":"'+e("string"==typeof a||a instanceof String?a:JSON.stringify(a))+'"}]}'}let n='{"string":"'+p+'"}',m='{"int":"'+r+'"}',c="["+s+"]",l=[];try{let e='{"prim":"Pair","args":[${0},{"prim":"Pair","args":[${1},${2}]}]}';try{let r=await fetch("https://api."+o+".tzkt.io/v1/contracts/"+t+"/entrypoints/mint"),i=await r.json();2===Object.keys(i.jsonParameters["schema:object"]).length&&(e='{"prim":"Pair","args":[${0},${1}]}');for(let e of Object.keys(i.jsonParameters["schema:object"]))e.endsWith(":address")?l.push(n):e.endsWith(":nat")?l.push(m):e.endsWith(":map_flat:string:bytes")&&l.push(c)}catch(e){console.log("ERROR "+a()+"(): "+e+" "+JSON.stringify(e))}for(let t=0;t<l.length;t++)e=e.replace("${"+t+"}",l[t]);let r=await g.requestOperation({operationDetails:[{kind:beacon.TezosOperationType.TRANSACTION,amount:0,destination:t,parameters:{entrypoint:"mint",value:JSON.parse(e)}}]});if(r.transactionHash)return r.transactionHash}catch(e){console.log("ERROR "+a()+"(): "+e+" "+JSON.stringify(e))}}(i,y,r);v&&O(v),document.getElementById("btnNewTokenCreate").classList.remove("is-loading")}())),document.getElementById("nftFile").addEventListener("change",(()=>function(){const e=document.getElementById("nftFile");if(k(),e.files.length>0){let t=e.files[0];document.getElementById("nftFileName").innerHTML=t.name;let r="0 Bytes";if(t.size>0){const e=document.getElementById("nftFileSizeIcon");let i=["Bytes","KB","MB","GB","TB"],s=Math.floor(Math.log(t.size)/Math.log(1024));r=parseFloat((t.size/Math.pow(1024,s)).toFixed(2))+" "+i[s],t.size>20480&&(e.classList.remove("has-text-danger"),e.classList.add("has-text-warning"),e.classList.remove("is-hidden"),t.size>28672?(e.classList.remove("has-text-warning"),e.classList.add("has-text-danger"),bulmaToast.toast({message:"This file is big. Try to make it smaller.",type:"is-danger"})):bulmaToast.toast({message:"Likely this file is big. Try to make it smaller.",type:"is-warning"}))}document.getElementById("nftFileSize").innerHTML=r;let i=t.type;document.getElementById("nftType").value=i;let s=new FileReader;s.onload=e=>{let t=e.target.result;const r=document.getElementById("nftPreviewContainer");if(i)if(r.querySelector(".js-img").classList.add("is-hidden"),i.startsWith("image"))if(i.startsWith("image/svg+xml")){let e=r.querySelector(".js-svg-template").cloneNode(!0);e.classList.remove("js-svg-template"),e.classList.add("js-svg"),e.setAttribute("data",t),r.append(e),e.classList.remove("is-hidden")}else r.querySelector(".js-img").setAttribute("src",t),r.querySelector(".js-img").classList.remove("is-hidden");else i.startsWith("audio")?(r.querySelector(".js-audio").setAttribute("src",t),r.querySelector(".js-audio").classList.remove("is-hidden")):i.startsWith("video")?(r.querySelector(".js-video").setAttribute("src",t),r.querySelector(".js-video").classList.remove("is-hidden")):i.startsWith("text")?r.querySelector(".js-text").classList.remove("is-hidden"):r.querySelector(".js-data").classList.remove("is-hidden");else r.querySelector(".js-img").setAttribute("src",t)},s.readAsDataURL(t)}}())),document.getElementById("nftFileRemove").addEventListener("click",(()=>(document.getElementById("nftFile").value="",void k()))),document.getElementById("btnTokenList").addEventListener("click",(()=>async function(){B&&document.getElementById("mListTokenAmount").setAttribute("max",B.balance),document.getElementById("mListToken").classList.add("is-active")}())),document.getElementById("btnListTokenList").addEventListener("click",(()=>async function(){if(!B)return void bulmaToast.toast({message:"The token is not found.",type:"is-danger"});let e=Math.round(parseFloat(document.getElementById("mListTokenPrice").value)*10**6);if(Number.isNaN(e)||e<=0)return void bulmaToast.toast({message:"Invalid price.",type:"is-danger"});let t,r=B.token.contract.address,i=B.token.tokenId,s=document.getElementById("mListTokenAmount").value;try{let e=JSON.parse(B.token.metadata.royalties);t=new Map(Object.entries(e.shares));let r=e.decimals;for(let[e,i]of t)t.set(e,Math.trunc(Number(i)/10**r*1e4))}catch(e){t=new Map}let n=document.getElementById("mListTokenStartTiime").value;n=Math.trunc(Date.parse(n)/1e3),n||(n=Math.trunc(Date.now()/1e3));document.getElementById("btnListTokenList").classList.add("is-loading");let o=await async function(e,t,r,i,s,n,o){let c="";if(s&&s.size>0){s=new Map([...s].sort());let e=0;for(let[t,r]of s)e>0&&(c+=","),e++,c+='{"prim":"Elt","args":[{"string":"'+t+'"},{"int":"'+r+'"}]}'}o=o?'"prim":"Some","args":[{"int":"'+o+'"}]':'"prim":"None"';try{let s=await g.requestOperation({operationDetails:[{kind:beacon.TezosOperationType.TRANSACTION,amount:0,destination:t,parameters:{entrypoint:"update_operators",value:JSON.parse('[ { "prim": "Left", "args": [ { "prim": "Pair", "args": [ { "string": "'+p+'" }, { "prim": "Pair", "args": [ { "string": "'+m+'" }, { "int": "'+r+'" } ] } ] } ] } ]')}},{kind:beacon.TezosOperationType.TRANSACTION,amount:0,destination:m,parameters:{entrypoint:"add_offer",value:JSON.parse('{"prim":"Pair","args":[{"prim":"Pair","args":[{"int":"'+i+'"},{"prim":"Pair","args":[{"int":"'+e+'"},['+c+']]}]},{"prim":"Pair","args":[{'+o+'},{"prim":"Pair","args":[{"int":"'+n+'"},{"prim":"Pair","args":[{"string":"'+t+'"},{"int":"'+r+'"}]}]}]}]}')}}]});if(s.transactionHash)return s.transactionHash}catch(e){console.log("ERROR "+a()+"(): "+e+" "+JSON.stringify(e))}}(e,r,i,s,t,n,"");o&&(O(o),document.getElementById("mListToken").classList.remove("is-active")),document.getElementById("btnListTokenList").classList.remove("is-loading")}())),document.getElementById("btnTokenBurn").addEventListener("click",(()=>async function(){B&&document.getElementById("mBurnTokenAmount").setAttribute("max",B.balance),document.getElementById("mBurnToken").classList.add("is-active")}())),document.getElementById("btnBurnTokenBurn").addEventListener("click",(()=>async function(){document.getElementById("btnBurnTokenBurn").classList.add("is-loading");let e=document.getElementById("mBurnTokenAmount").value,t=await async function(e,t,r){try{let i='{"prim":"Pair","args":[{"int":"'+r+'"},{"int":"'+t+'"}]}';try{let r=await fetch("https://api."+o+".tzkt.io/v1/contracts/"+e+"/entrypoints/burn?json=false&michelson=true");(await r.json()).michelsonParameters.startsWith("pair")||(i='{"int":"'+t+'"}')}catch(e){}let s=await g.requestOperation({operationDetails:[{kind:beacon.TezosOperationType.TRANSACTION,amount:0,destination:e,parameters:{entrypoint:"burn",value:JSON.parse(i)}}]});if(s.transactionHash)return s.transactionHash}catch(e){console.log("ERROR "+a()+"(): "+e+" "+JSON.stringify(e))}}(A,j,e);t&&(O(t),window.history.back()),document.getElementById("btnBurnTokenBurn").classList.remove("is-loading")}())),document.getElementById("btnTokenTransfer").addEventListener("click",(()=>async function(){B&&document.getElementById("mTransferTokenAmount").setAttribute("max",B.balance),document.getElementById("mTransferTokenAddressTo").value="",document.getElementById("mTransferToken").classList.add("is-active")}())),document.getElementById("btnTransferTokenTransfer").addEventListener("click",(()=>async function(){let e=document.getElementById("mTransferTokenAmount").value,t=document.getElementById("mTransferTokenAddressTo").value.trim();if(!s(t))return void bulmaToast.toast({message:"Invalid destination address.",type:"is-danger"});document.getElementById("btnTransferTokenTransfer").classList.add("is-loading");let r=await async function(e,t,r,i){try{let s=await g.requestOperation({operationDetails:[{kind:beacon.TezosOperationType.TRANSACTION,amount:0,destination:e,parameters:{entrypoint:"transfer",value:JSON.parse('[{"prim": "Pair","args":[{"string":"'+p+'"},[{"prim": "Pair","args":[{"string":"'+i+'"},{"prim": "Pair","args":[{"int":"'+t+'"},{"int":"'+r+'"}]}]}]]}]')}}]});if(s.transactionHash)return s.transactionHash}catch(e){console.log("ERROR "+a()+"(): "+e+" "+JSON.stringify(e))}}(A,j,e,t);r&&(O(r),document.getElementById("mTransferToken").classList.remove("is-active")),document.getElementById("btnTransferTokenTransfer").classList.remove("is-loading")}()));var B,j="";async function w(e,t){let r=event.currentTarget;r.classList.add("is-loading");let i=await async function(e,t,r){try{let t=await g.requestOperation({operationDetails:[{kind:beacon.TezosOperationType.TRANSACTION,amount:1*r,destination:m,parameters:{entrypoint:"accept_offer",value:JSON.parse('{"prim":"Pair","args":[{"int":"1"},{"int":"'+e+'"}]}')}}]});if(t.transactionHash)return t.transactionHash}catch(e){console.log("ERROR "+a()+"(): "+e+" "+JSON.stringify(e))}}(e,0,t);i&&O(i),r.classList.remove("is-loading")}function N(){let e=event.currentTarget.querySelector(".fas");event.currentTarget.parentElement.querySelector(".is-collapsible").classList.toggle("is-active"),e.classList.toggle("fa-angle-down"),e.classList.toggle("fa-angle-up")}async function q(e){let t=p;await async function(e){let t=await g.getActiveAccount();if(t)p=t.address;else if(!e){let e=await g.requestPermissions({network:{type:o}});p=e.address}}(e),p&&(document.getElementById("divConnect").classList.add("is-hidden"),document.getElementById("aAddress").innerHTML=r(p),document.getElementById("divDisconnect").classList.remove("is-hidden")),e||t===p||window.location.reload()}function U(){document.querySelectorAll(".js-page").forEach((function(e){e.classList.add("is-hidden")}))}function D(e){return e&&e.startsWith("data:")?e.startsWith("data:image/svg+xml")?"image/svg+xml":e.startsWith("data:image")?"image":e.startsWith("data:text")?"text":e.startsWith("data:audio")?"audio":e.startsWith("data:video")?"video":"data":""}function O(e){bulmaToast.toast({message:"Your request is processing with ID <a href='https://"+o+".tzkt.io/"+e+"' target='_blank'>"+r(e)+"</a>",duration:5e3,type:"is-success"})}function C(){bulmaToast.toast({message:"The data cannot be retrieved at this moment.<br/>Please try again later.",duration:7e3,type:"is-warning"})}document.querySelectorAll(".js-faq-item").forEach((function(e){e.onclick=N})),document.getElementById("btnConnect").addEventListener("click",(()=>q(!1))),document.getElementById("btnDisconnect").addEventListener("click",(()=>async function(){await async function(){await g.clearActiveAccount(),p=""}(),p||(document.getElementById("divDisconnect").classList.add("is-hidden"),document.getElementById("aAddress").innerHTML="",document.getElementById("divConnect").classList.remove("is-hidden")),window.location.reload()}())),document.getElementById("btnMenuTokens").addEventListener("click",(()=>{window.location.search="cmd=tokens"})),document.getElementById("btnMenuCollections").addEventListener("click",(()=>{window.location.search="cmd=collections"})),document.getElementById("btnMenuListings").addEventListener("click",(()=>{window.location.search="cmd=listings"})),document.getElementById("btnMenuSearch").addEventListener("click",(()=>{window.location.search="cmd=search"})),document.getElementById("btnMenuNewToken").addEventListener("click",(()=>{window.location.search="cmd=newtoken"})),document.getElementById("btnMenuNewCollection").addEventListener("click",(()=>{window.location.search="cmd=newcollection"})),document.getElementById("btnMenuInfo").addEventListener("click",(()=>{window.location.search="cmd=info"})),document.getElementById("btnMenuCopyAddress").addEventListener("click",(()=>{p&&i(p)&&bulmaToast.toast(h)})),document.getElementById("btnMenuMyCollections").addEventListener("click",(()=>{window.location.search="cmd=collections&creator="+p})),document.getElementById("btnMenuMyTokens").addEventListener("click",(()=>{window.location.search="cmd=tokens&account="+p})),document.getElementById("btnMenuMyListings").addEventListener("click",(()=>{window.location.search="cmd=listings&seller="+p})),LT={}})();